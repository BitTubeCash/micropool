<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<style>
			p {
				font-family: sans-serif;
			}
			div {
				font-family: sans-serif;
				font-size:13px;
				color:white;
				background-color:black;
			}
			div#log {
				font-family: monospace;
				color:#0ed12d;
				background-color:black;
			}
			input {
				font-family: monospace;
				border:1px solid #888888;
				font-size:12px;
				padding:5px;
				color:#0ed12d;
				background-color:black;
			}
			span {
				color:yellow;
			}
			:not(input):not(textarea),
			:not(input):not(textarea)::after,
			:not(input):not(textarea)::before {
				-webkit-user-select: none;
				user-select: none;
				cursor: default;
			}
			input, button, textarea, :focus {
				outline: none; 
			}
		</style>
	</head>
	<body>
		<div style="padding-left:20px;padding-right:20px;background-color:#0e293f;position:fixed !important;position:absolute;top:0;right:0;bottom:0;left:0">
			<table style="margin-top:20px;margin-bottom:20px;width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
				<colgroup>
					<col span="1" style="width: 33%;">
					<col span="1" style="width: 34%;">
					<col span="1" style="width: 33%;">
				</colgroup>
				<tr>
					<td colspan="3">
						<table style="width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
							<colgroup>
								<col style="width: 100px">
								<col style="width: *">
							</colgroup>
							<tr>
								<td>Wallet</td>
								<td>
									<input id="mining_address" value="" onchange="updateData()" style="width:calc(100% - 12px)" type="text"/>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td>
						<table style="margin-top:20px;width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
							<colgroup>
								<col style="width: 100px">
								<col style="width: *">
							</colgroup>
							<tr>
								<td>Daemon-Host</td>
								<td>
									<input id="daemonhost" value=""style="width:100%" onchange="updateData()" type="text"/>
								</td>
							</tr>
						</table>
					</td>
					<td>
						<table style="padding-left:20px;margin-top:20px;width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
							<colgroup>
								<col style="width: 100px">
								<col style="width: *">
							</colgroup>
							<tr>
								<td>conn</td>
								<td>
									<input disabled="true" id="data_conn" style="width:100%;background-color:#333333" type="text"/>
								</td>
							</tr>
						</table>
					</td>
					<td>
						<table style="padding-left:20px;margin-top:20px;width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
							<colgroup>
								<col style="width: 100px">
								<col style="width: *">
							</colgroup>
							<tr>
								<td>gps</td>
								<td>
									<input diasbled="true" id="data_gps" style="width:calc(100% - 12px);background-color:#333333" type="text"/>
								</td>
							</tr>
						</table>
					</td>
				</tr>

				<tr>
					<td>
						<table style="margin-top:20px;width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
							<colgroup>
								<col style="width: 100px">
								<col style="width: *">
							</colgroup>
							<tr>
								<td>Daemon-Port</td>
								<td>
									<input id="daemonport" value="" onchange="updateData()" style="width:100%" type="text"/>
								</td>
							</tr>
						</table>
					</td>
					<td>
						<table style="padding-left:20px;margin-top:20px;width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
							<colgroup>
								<col style="width: 100px">
								<col style="width: *">
							</colgroup>
							<tr>
								<td>Height</td>
								<td>
									<input disabled="true" id="data_height" style="width:100%;background-color:#333333" type="text"/>
								</td>
							</tr>
						</table>
					</td>
					<td>
						<table style="padding-left:20px;margin-top:20px;width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
							<colgroup>
								<col style="width: 100px">
								<col style="width: *">
							</colgroup>
							<tr>
								<td>Shares</td>
								<td>
									<input disabled="true" id="data_shares" style="width:calc(100% - 12px);background-color:#333333" type="text"/>
								</td>
							</tr>
						</table>
					</td>
				</tr>

				<tr>
					<td>
						<table style="margin-top:20px;width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
							<colgroup>
								<col style="width: 100px">
								<col style="width: *">
							</colgroup>
							<tr>
								<td>Pool-Port</td>
								<td>
									<input id="poolport" value="" onchange="updateData()" style="width:100%" type="text"/>
								</td>
							</tr>
						</table>
					</td>
					<td>
						<table style="padding-left:20px;margin-top:20px;width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
							<colgroup>
								<col style="width: 100px">
								<col style="width: *">
							</colgroup>
							<tr>
								<td>Difficutly</td>
								<td>
									<input disabled="true" id="data_diff" style="width:100%;background-color:#333333" type="text"/>
								</td>
							</tr>
						</table>
					</td>
					<td>
						<table style="padding-left:20px;margin-top:20px;width:100%;table-layout: fixed;border:0;" cellspacing="0" cellpadding="0">
							<colgroup>
								<col style="width: 100px">
								<col style="width: *">
							</colgroup>
							<tr>
								<td>Blocks found</td>
								<td>
									<input disabled="true" value="0" id="data_blocks" style="width:calc(100% - 12px);background-color:#333333" type="text"/>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
			<div id="log" style="overflow:hidden;border:1px solid #888888;padding:5px;height:calc(100% - 236px)">
			</div>
		</div>
		<script>
			require('./renderer.js');
			var electron = require('electron');

			function updateData() { 
			
				if( (document.getElementById('daemonport').value < 1024)||(document.getElementById('daemonport').value > 65535))
					document.getElementById('daemonport').value=39950;
				if( (document.getElementById('poolport').value < 1024)||(document.getElementById('poolport').value > 65535))
					document.getElementById('poolport').value=14650;
				
				ipcRenderer.send('set', ['daemonport',parseFloat(document.getElementById('daemonport').value)|0]);
				ipcRenderer.send('set', ['poolport',parseFloat(document.getElementById('poolport').value)|0]);
				ipcRenderer.send('set', ['daemonhost',document.getElementById('daemonhost').value]);
				ipcRenderer.send('set', ['mining_address',document.getElementById('mining_address').value]);

			}

			const { ipcRenderer } = require('electron')
			ipcRenderer.send('get', 'daemonport');
			ipcRenderer.send('get', 'poolport');
			ipcRenderer.send('get', 'daemonhost');
			ipcRenderer.send('get', 'mining_address');
			
			ipcRenderer.on('get-reply', (event, arg) => {
				document.getElementById(arg[0]).value=arg[1];
            })

		</script>
	</body>
</html>
